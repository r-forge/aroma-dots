if (interactive()) savehistory();library("aroma.tcga");# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -# Local functions# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -downloadAny <- function(tdd, ...) {  downloadBroad <- function(tdd, pattern="[.]ismpolish[.]data[.]txt$", ...) {    downloadFiles(tdd, pattern=pattern, ...);  }    downloadHudsonAlpha <- function(tdd, pattern="[.]Paired_LogR[.]txt$", ...) {    downloadFiles(tdd, pattern=pattern, ...);  }    downloadAgilent <- function(tdd, pattern="[.]data[.]txt$", ...) {    downloadFiles(tdd, pattern=pattern, ...);  }  path <- getUrlPath(tdd);  fullname <- basename(path);  site <- gsub("^([a-z.]*)_.*", "\\1", fullname);  if (site == "broad.mit.edu") {    fcn <- downloadBroad;  } else if (site == "hudsonalpha.org") {    fcn <- downloadHudsonAlpha;  } else if (site == "mskcc.org") {    fcn <- downloadAgilent;  } else if (site == "hms.harvard.edu") {    fcn <- downloadAgilent;  } else {    throw("Unknown site: ", site);  }  fcn(tdd, ...);} # downloadAny();# Username and passwordusername <- Sys.getenv("TCGAUSER");password <- Sys.getenv("TCGAPWD");dataSet <- c("broad", "hudsonalpha", "harvard", "mskcc,A", "mskcc,B")[2];if (dataSet == "broad") {  # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  # Broad / Affymetrix GenomeWideSNP_6  # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  path <- "tcga4yeo/tumor/ov/cgcc/broad.mit.edu/genome_wide_snp_6/snp";  dataSets <- c(    "broad.mit.edu_OV.Genome_Wide_SNP_6.9.5.0",    "broad.mit.edu_OV.Genome_Wide_SNP_6.11.5.0",    "broad.mit.edu_OV.Genome_Wide_SNP_6.12.6.0",    "broad.mit.edu_OV.Genome_Wide_SNP_6.13.6.0"  );} else if (dataSet == "hudsonalpha") {    # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  # HudsonAlpha / Illumina Human1M-Duo  # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  path <- "tcga4yeo/tumor/ov/cgcc/hudsonalpha.org/human1mduo/snp";  dataSets <- c(    "hudsonalpha.org_OV.Human1MDuo.1.0.0"  );} else if (dataSet == "harvard") {    # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  # Harvard / Agilent HG-CGH-244A  # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  path <- "anonymous/tumor/ov/cgcc/hms.harvard.edu/hg-cgh-244a/cna";  dataSets <- c(    "hms.harvard.edu_OV.HG-CGH-244A.1.0.0",    "hms.harvard.edu_OV.HG-CGH-244A.2.1.0",    "hms.harvard.edu_OV.HG-CGH-244A.3.0.0",    "hms.harvard.edu_OV.HG-CGH-244A.4.1.0"  );} else if (dataSet == "mskcc,A") {    # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  # MSKCC / Agilent HG-CGH-244A  # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  path <- "anonymous/tumor/ov/cgcc/mskcc.org/hg-cgh-244a/cna";  dataSets <- c(    "mskcc.org_OV.HG-CGH-244A.9.3.0"  );} else if (dataSet == "mskcc,B") {    # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  # MSKCC / Agilent CGH-1x1M_G4447A  # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  path <- "anonymous/tumor/ov/cgcc/mskcc.org/cgh-1x1m_g4447a/cna";  dataSets <- c(    "mskcc.org_OV.CGH-1x1M_G4447A.11.1.0",    "mskcc.org_OV.CGH-1x1M_G4447A.12.1.0",    "mskcc.org_OV.CGH-1x1M_G4447A.13.1.0"  );}# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -# Download CN estimates# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -paths <- file.path(path, dataSets);for (kk in seq(along=paths)) {  tdd <- TcgaDccDownloader(urlPath=paths[kk]);  setLogin(tdd, username=username, password=password);  print(tdd);  filenames <- listFiles(tdd);  str(filenames);  # Download all meta files  x <- readReadme(tdd);  x <- readIdf(tdd);  x <- readSdrf(tdd);  # Download all files#  pathnames <- downloadAny(tdd);#  str(pathnames);} # for (kk ...)############################################################################# HISTORY:# 2009-04-15# o Updated.# 2009-04-13# o Created.############################################################################